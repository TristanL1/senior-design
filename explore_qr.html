<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <title>SCU AR Camera</title>

        <link rel="stylesheet" href="ar_temp.css">
        
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
        <script src="utils.js"></script>
        <script>
            document.addEventListener("markerFound", (e)=>{
                var quiz = document.getElementById("quiz");
                var info = document.getElementById("info");
                quiz.disabled = false;
                info.disabled = false;
                if(e.target.getAttribute("id") == "leavey") {
                    quiz.onclick = function () {
                        window.location.href="quiz/leaveyquiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/leaveyinfo.html";
                    };
                } else if(e.target.getAttribute("id") == "museum") {
                    quiz.onclick = function () {
                        window.location.href="quiz/museumquiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/museuminfo.html";
                    };
                } else if(e.target.getAttribute("id") == "theatre") {
                    quiz.onclick = function () {
                        window.location.href="quiz/theatrequiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/theatreinfo.html";
                    }; 
                } else if(e.target.getAttribute("id") == "church") {
                    quiz.onclick = function () {
                        window.location.href="quiz/churchquiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/churchinfo.html";
                    };
                } else if(e.target.getAttribute("id") == "scdi") {
                    quiz.onclick = function () {
                        window.location.href="quiz/scdiquiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/scdiinfo.html";
                    };
                }
            })

            document.addEventListener("markerLost", (e)=>{
                var quiz = document.getElementById("quiz");
                var info = document.getElementById("info");
                quiz.disabled = true;
                info.disabled = true;
            })
        </script>
    </head>
    <body style ="margin: 0px; overflow: hidden;">
         <!-- AR.js Scene -->
         <a-scene embedded arjs vr-mode-ui="enabled: false">
            <!-- 3D Model Assets -->
            <a-assets>
                <a-asset-item id="basketball" src="https://raw.githubusercontent.com/TristanL1/senior-design/main/assets/basketball/scene.gltf"></a-asset-item>
                <a-asset-item id="vase" src="https://raw.githubusercontent.com/TristanL1/senior-design/main/assets/vase/scene.gltf"></a-asset-item>
                <a-asset-item id="mask" src="https://raw.githubusercontent.com/TristanL1/senior-design/main/assets/mask/scene.gltf"></a-asset-item>
                <a-asset-item id="cross" src="https://raw.githubusercontent.com/TristanL1/senior-design/main/assets/cross/scene.gltf"></a-asset-item>
                <a-asset-item id="microscope" src="https://raw.githubusercontent.com/TristanL1/senior-design/main/assets/microscope/scene.gltf"></a-asset-item>
            </a-assets>

            <!-- Building Markers -->
            <a-marker id="leavey" type="pattern" url="patt/basketball.patt">
                <a-text 
                class="marker-text"
                value="Leavey Center"
                rotation="-90 0 0"
                position="-0.5 1 -1"
                ></a-text>
                <a-entity gltf-model="#basketball" scale="0.01 0.01 0.01">
                    <a-animation attribute="rotation" dur="3000" to="360 360 0" repeat="indefinite" easing="linear"></a-animation>
                    <a-animation attribute="position" dur="1000" from="0 0 1.5" to="0 0 0" direction="alternate" repeat="indefinite" easing="ease-in-out"></a-animation>
                </a-entity>
            </a-marker>
            <a-marker id="museum" type="pattern" url="patt/museum.patt">
                <a-text 
                class="marker-text"
                value="De Saisset Museum"
                rotation="-90 0 0"
                position="-0.5 1 -1"
                ></a-text>
                <a-entity gltf-model="#vase" scale="0.01 0.01 0.01">
                    <a-animation attribute="rotation" dur="3000" to="360 360 0" repeat="indefinite" easing="linear"></a-animation>
                </a-entity>
            </a-marker>
            <a-marker id="theatre" type="pattern" url="patt/theatre.patt">
                <a-text 
                class="marker-text"
                value="Mayer Theatre"
                rotation="-90 0 0"
                position="-0.5 1 -1"
                ></a-text>
                <a-entity gltf-model="#mask" scale="0.01 0.01 0.01">
                    <a-animation attribute="rotation" dur="3000" to="360 360 0" repeat="indefinite" easing="linear"></a-animation>
                </a-entity>
            </a-marker>
            <a-marker id="church" type="pattern" url="patt/church.patt">
                <a-text 
                class="marker-text"
                value="Mission Church"
                rotation="-90 0 0"
                position="-0.5 1 -1.5"
                ></a-text>
                <a-entity gltf-model="#cross" scale="1.5 1.5 1.5" rotation="90 180 0">
                    <a-animation attribute="position" dur="5000" from="0 0 1" to="0 0 -1" direction="alternate" repeat="indefinite" easing="ease-in-out"></a-animation>
                    <!-- <a-animation attribute="rotation" dur="3000" to="360 360 0" repeat="indefinite" easing="linear"></a-animation> -->
                </a-entity>
            </a-marker>
            <a-marker id="scdi" type="pattern" url="patt/scdi.patt">
                <a-text 
                class="marker-text"
                value="SCDI"
                rotation="-90 0 0"
                position="-0.5 1 -1.5"
                ></a-text>
                <a-entity gltf-model="#microscope" scale="0.1 0.1 0.1" rotation="-90 0 0">
                    <a-animation attribute="position" dur="3000" from="0 0 0" to="0 0 2" direction="alternate" repeat="indefinite" easing="ease-in-out"></a-animation>
                </a-entity>
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
        <div class="main-page">
            <!-- Bottom Row of Buttons -->
            <div class="btn-group">
                <button id="quiz" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                </button>
                <button id="info" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                </button>
                <button id="qrcode" disabled>
                    <svg fill="#b30738" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" xml:space="preserve" width="170px" height="170px" stroke="#b30738" stroke-width="0.64"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="1.152"></g><g id="SVGRepo_iconCarrier"> <g> <rect x="38" y="23" width="2" height="5"></rect> <rect x="42" y="23" width="2" height="5"></rect> <rect x="38" y="30" width="2" height="2"></rect> <rect x="42" y="30" width="2" height="2"></rect> <rect x="31" y="34" width="2" height="2"></rect> <rect x="26" y="54" width="2" height="2"></rect> <rect x="42" y="34" width="2" height="2"></rect> <rect x="38" y="38" width="2" height="2"></rect> <rect x="42" y="38" width="2" height="2"></rect> <path d="M2,2h3V0H1C0.448,0,0,0.448,0,1v4h2V2z"></path> <path d="M63,0h-4v2h3v3h2V1C64,0.448,63.552,0,63,0z"></path> <path d="M2,59H0v4c0,0.552,0.448,1,1,1h4v-2H2V59z"></path> <path d="M62,62h-3v2h4c0.552,0,1-0.448,1-1v-4h-2V62z"></path> <path d="M4,5v12c0,0.552,0.448,1,1,1h12c0.552,0,1-0.448,1-1V5c0-0.552-0.448-1-1-1H5C4.448,4,4,4.448,4,5z M6,6h10v10H6V6z"></path> <path d="M13,8H9C8.448,8,8,8.448,8,9v4c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1V9C14,8.448,13.552,8,13,8z M12,12h-2v-2h2V12z"></path> <path d="M47,18h12c0.552,0,1-0.448,1-1V5c0-0.552-0.448-1-1-1H47c-0.552,0-1,0.448-1,1v12C46,17.552,46.448,18,47,18z M48,6h10v10 H48V6z"></path> <path d="M55,8h-4c-0.552,0-1,0.448-1,1v4c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1V9C56,8.448,55.552,8,55,8z M54,12h-2v-2h2V12z "></path> <path d="M17,46H5c-0.552,0-1,0.448-1,1v12c0,0.552,0.448,1,1,1h12c0.552,0,1-0.448,1-1V47C18,46.448,17.552,46,17,46z M16,58H6V48 h10V58z"></path> <path d="M9,56h4c0.552,0,1-0.448,1-1v-4c0-0.552-0.448-1-1-1H9c-0.552,0-1,0.448-1,1v4C8,55.552,8.448,56,9,56z M10,52h2v2h-2V52z"></path> <path d="M44,19h-7V7h-2v13c0,0.552,0.448,1,1,1h8V19z"></path> <rect x="22" y="12" width="7" height="2"></rect> <rect x="26" y="8" width="7" height="2"></rect> <rect x="4" y="19" width="2" height="9"></rect> <path d="M18,25H8v2h9v4h2v-5C19,25.448,18.552,25,18,25z"></path> <rect x="9" y="20" width="2" height="2"></rect> <rect x="21" y="18" width="2" height="8"></rect> <rect x="21" y="28" width="9" height="2"></rect> <path d="M61,29h-2v10h-3v2h4c0.552,0,1-0.448,1-1V29z"></path> <rect x="26" y="18" width="2" height="2"></rect> <rect x="4" y="33" width="2" height="8"></rect> <rect x="4" y="42" width="9" height="2"></rect> <path d="M50,28h2v-4c0-0.552-0.448-1-1-1h-5v2h4V28z"></path> <rect x="9" y="33" width="2" height="2"></rect> <rect x="20" y="32" width="2" height="8"></rect> <rect x="20" y="42" width="9" height="2"></rect> <rect x="8" y="38" width="9" height="2"></rect> <rect x="21" y="52" width="2" height="4"></rect> <rect x="20" y="48" width="9" height="2"></rect> <path d="M36,44v-5c0-0.552-0.448-1-1-1H25v2h9v4H36z"></path> <rect x="26" y="32" width="2" height="2"></rect> <rect x="15" y="34" width="2" height="2"></rect> <rect x="59" y="53" width="2" height="7"></rect> <rect x="54" y="58" width="3" height="2"></rect> <rect x="54" y="52" width="2" height="4"></rect> <path d="M61,44c0-0.552-0.448-1-1-1H49v2h10v6h2V44z"></path> <path d="M48,56v-5c0-0.552-0.448-1-1-1H36v2h10v4H48z"></path> <rect x="50" y="47" width="7" height="2"></rect> <rect x="20" y="58" width="7" height="2"></rect> <rect x="30" y="51" width="2" height="9"></rect> <rect x="32" y="46" width="4" height="2"></rect> <path d="M47,36h5v-2h-4v-6h-2v7C46,35.552,46.448,36,47,36z"></path> <rect x="50" y="30" width="5" height="2"></rect> <rect x="54" y="20" width="3" height="2"></rect> <rect x="59" y="20" width="2" height="5"></rect> <rect x="54" y="25" width="2" height="2"></rect> <path d="M39,17h4c0.552,0,1-0.448,1-1V3h-2v12h-3V17z"></path> <path d="M24,5h15V3H23c-0.552,0-1,0.448-1,1v5h2V5z"></path> <path d="M25,24h7c0.552,0,1-0.448,1-1v-8h-2v7h-6V24z"></path> <rect x="34" y="23" width="2" height="4"></rect> <rect x="36" y="54" width="7" height="2"></rect> <rect x="36" y="58" width="9" height="2"></rect> <path d="M50,58h-2v2h3c0.552,0,1-0.448,1-1v-8h-2V58z"></path> <rect x="16" y="42" width="2" height="2"></rect> <rect x="39" y="42" width="4" height="2"></rect> <rect x="46" y="38" width="2" height="3"></rect> <rect x="45" y="43" width="2" height="2"></rect> <rect x="39" y="46" width="3" height="2"></rect> <rect x="50" y="38" width="2" height="2"></rect> <rect x="54" y="34" width="3" height="2"></rect> <rect x="35" y="34" width="5" height="2"></rect> <rect x="34" y="29" width="2" height="3"></rect> </g> </g></svg>                
                </button>
                <button id="map" onclick = "window.location.href ='./map/map.html'">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="10" r="3"/><path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"/></svg>
                </button>
            </div>
        </div>
    </body>
</html>