<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <title>SCU AR Camera</title>

        <link rel="stylesheet" href="ar_temp.css">
        
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
        <script src="utils.js"></script>
        <script>
            document.addEventListener("markerFound", (e)=>{
                var quiz = document.getElementById("quiz");
                var info = document.getElementById("info");
                quiz.disabled = false;
                info.disabled = false;
                if(e.target.getAttribute("id") == "leavey") {
                    quiz.onclick = function () {
                        window.location.href="quiz/leaveyquiz.html";
                    };
                    info.onclick = function () { 
                        window.location.href="info/leaveyinfo.html";
                    };
                }
            })

            document.addEventListener("markerLost", (e)=>{
                var quiz = document.getElementById("quiz");
                var info = document.getElementById("info");
                quiz.disabled = true;
                info.disabled = true;
            })
        </script>
    </head>
    <body style ="margin: 0px; overflow: hidden;">
         <!-- AR.js Scene -->
         <a-scene embedded arjs vr-mode-ui="enabled: false">
            <!-- 3D Model Assets -->
            <a-assets>
                <a-asset-item id="basketball" src="basketball/scene.gltf"></a-asset-item>
            </a-assets>

            <!-- Building Markers -->
            <a-marker id="leavey" type="pattern" url="patt/basketball.patt">
                <a-text value="Leavey Center"></a-text>
                <a-entity gltf-model="#basketball" scale="0.01 0.01 0.01">
                    <a-animation attribute="rotation" dur="3000" to="360 360 0" repeat="indefinite" easing="linear"></a-animation>
                </a-entity>
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
        <div class="main-page">
            <!-- Bottom Row of Buttons -->
            <div class="btn-group">
                <button id="quiz" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                </button>
                <button id="info" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                </button>
                <button id="map" onclick = "window.location.href ='./map/map.html'">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#b30738" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="10" r="3"/><path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"/></svg>
                </button>
            </div>

           
        </div>
    </body>
</html>